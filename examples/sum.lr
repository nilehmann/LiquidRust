fn sum(n0: {int | V >= 0}; n: own(n0)) ret k(r: {int | V >= n0}; own(r)) =
  letcont loop( n1: {int | _ }, i1: {int | _ }, r1: {int | _ }
              ; i: own(i1), r: own(r1), n: own(n1);) =
    let t0 = alloc(1);
    t0 := i <= n;
    if t0 then
      i := i + 1;
      r := r + i;
      jump loop()
    else
      jump k(r)
  in
  let i = alloc(1);
  let r = alloc(1);
  i := 0;
  r := 0;
  jump loop()
